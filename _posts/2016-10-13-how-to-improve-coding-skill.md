---
layout: post
title: 如何快速提高编程水平和设计能力？
date: 2016-10-13 17:24:10
category: "coding"
---

我们做很多事情都讲究攻略，打游戏有游戏攻略，去旅游有旅游攻略，我们程序员也有攻略。我们组也有几个刚毕业不久的同学，今天就写一个关于提高编程水平的攻略。

我们每天工作中都在编码，但我们的编程水平到底有没有提高呢？有提高的，但是非常慢。有几个原因，

*1 我们的项目是毕源的，项目的优秀程度取决于内部的几个开发者的水平。
*2 不经常总结，代码写了很多，水平没有显著提升。
*3 我们的项目是室内游泳池，开源项目是江海。我们需要打开眼界。

提高编程水平和设计能力的方法有很多，今天我推荐一个我认为还不错的方法，阅读优秀的源代码项目。我觉得每一个优秀的程序员都应该深入阅读并且掌握几个优秀的源代码项目。

###阅读优秀源码有几个好处：

#### 可以学习到很多编程方法。

     自己写的代码为什么总有一种不满意的感觉？或者说不优雅？本质上是缺乏实践经验的总结，缺乏不断的优化。优秀的源码项目是众多优秀程序员集体智慧的结晶，几行代码有可能修改了很多遍。每行代码已经经过了很多程序员的review，已经是最佳设计或者说是比较优秀的编码方案了，大量阅读这样的代码，潜在的提高了自己的认知水平。从最基本的变量命名、写注释、类库组织到接口定义、模块划分、如何通过配置实例化、如何进行版本控制等等，都可以了解到。另外，我们一定要带着问题去阅读，
他们是如何处理异常的？
如何做扩展性？
他们为什么这样实现接口？
如果要去实现一个功能，怎么通过插件化的方法加进来？
如何写UT，怎么mock外部数据？
等等

我们工作中的编程问题，都可以在这里找到答案。

#### 可以学习到大型项目的设计方法。

程序员都知道设计模式，很多人也看过设计模式的书籍，但是在实践中往往运用得不好，主要是缺乏了解设计模式是如何在实际业务中怎么应用的经验。

举个例子，从文件中读取数据，保存到内存。这个简单的需求，如果是你，应该怎么做呢？

直接读文件？然后保存到List中？

对于一个需要长期维护的项目来说，显然是不够的，首先要考虑几个问题，
*1 数据源只有文件吗？如果从数据库加载，怎么加载，消息队列呢？
*2 加载到的目标源只有内存吗？跟上面一样的情况。
*3 加载过程中是否需要特殊处理？例如过滤，优先级排序等。

这仅是一个简单的例子，如果有多个模块共同组织，又应该怎么处理？我们需要从优秀的源码上学习。一个优秀的大型开源项目是由优秀的架构师或程序员设计的，是集体智慧的结晶，在设计上，可以学习很多东西，例如项目如何组织，如何组件化，如何提供扩展接口，如何解耦，如何兼容等等。同样的设计模式，不同人也有不同的实现方案。在阅读其他项目的同时，也应该思考一下，我们的项目中是否哪里设计得不合理，如果做一个优化，是否可以简化代码，使代码更容易理解，降低维护难度。


###如何阅读比较大的项目？

先了解项目，一般都有官方网站，里面有很多文档，可以从quick start开始看，先看如何使用这个项目，然后自己简单试一试。当知道如何使用项目后，如何阅读源码，基本的阅读就不讲了，很简单，直接看就好了，关键是如何把各个看起来完全没有关系的模块、组件整合到一起，把整个流程串起来，跑通。
*1 找到程序启动的入口位置、输入位置、输出位置。
*2 在各个入口位置上，设置断点。
*3 调试模式启动程序，每一步一步的跟踪，从配置文件如何读取，如何加载相应组件，哪个是主要流程，到输入参数时是怎么运转的，再到输出是什么处理的。

把整个项目，通过调试模式跑通，复杂的地方一定要画出类图，多跟踪几遍，慢慢就了解了整个项目的结构。


我们目前工作强度一般，下班后还有一定的时间，最好每天抽出时间去学习一下，尤其是刚毕业不久的同学，必有收获。


 
###优秀源码项目推荐

项目比较大，也比较复杂，也可以理解为几个关卡boss，有谁通关了，可以做一次串讲。

*1 lucene - https://github.com/apache/lucene-solr
apache顶级项目，lucene是一套用于全文检索和搜寻的开源程式库，提供了一个简单却强大的应用程式接口，能够做全文索引和搜寻。Lucene是当前以及最近几年最受欢迎的免费Java信息检索程序库。
基于lucene开发的solr, elasticsearch等项目，更是广泛的用于各种商业产品上，例如经常使用的github，对于大数据量, lucene也支持的很好，例如twitter，几百亿的数据。

*2 solr - https://github.com/apache/lucene-solr
基于lucene的搜索引擎，可以快速建立搜索服务。

*3 netty - http://netty.io/
高性能异步RPC。
“Netty 是一个基于NIO的客户，服务器端编程框架，使用Netty 可以确保你快速和简单的开发出一个网络应用，例如实现了某种协议的客户，服务端应用。Netty相当简化和流线化了网络应用的编程开发过程，例如，TCP和UDP的socket服务开发。” -- 百科
